<%= form_with(model: post, local: true, class: "max-w-2xl mx-auto") do |f| %>
    <div class="bg-white/90 border border-orange-100 rounded-2xl p-6 shadow-sm space-y-5">
        <% if post.errors.any? %>
            <div class="rounded-lg border border-orange-200 bg-orange-50 text-orange-900 p-4">
                <h3 class="font-semibold">
                    <%= pluralize(post.errors.count, "error") %> prohibited this post from being saved:
                </h3>
                <ul class="mt-2 list-disc list-inside text-sm text-orange-900/90 space-y-1">
                    <% post.errors.full_messages.each do |msg| %>
                        <li><%= msg %></li>
                    <% end %>
                </ul>
            </div>
        <% end %>

        <div>
            <%= f.label :title, class: "block text-sm font-semibold text-gray-700" %>
            <%= f.text_field :title,
                class: "mt-1 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-gray-800 shadow-sm focus:border-orange-400 focus:ring-2 focus:ring-orange-200" %>
        </div>

        <div>
            <%= f.label :caption, class: "block text-sm font-semibold text-gray-700" %>
            <%= f.text_area :caption,
                class: "mt-1 w-full min-h-[120px] rounded-md border border-gray-200 bg-white px-3 py-2 text-gray-800 shadow-sm focus:border-orange-400 focus:ring-2 focus:ring-orange-200" %>
        </div>

        <% if post.image.attached? %>
            <div class="rounded-lg border border-orange-100 bg-orange-50/60 p-4">
                <p class="text-sm font-semibold text-gray-700 mb-2">Current image:</p>
                <%= image_tag post.image, class: "max-w-full rounded-lg ring-1 ring-orange-100" %>
                <label class="mt-3 flex items-center gap-2 text-sm text-gray-700">
                    <%= f.check_box :remove_image, class: "rounded border-gray-300 text-orange-500 focus:ring-orange-200" %>
                    Remove current image
                </label>
            </div>
        <% end %>

        <div>
            <%= f.label :image, "Upload Image", class: "block text-sm font-semibold text-gray-700" %>
            <%= f.file_field :image, accept: "image/*",
                class: "mt-1 block w-full text-sm text-gray-700 file:mr-4 file:rounded-md file:border-0 file:bg-orange-100 file:px-3 file:py-2 file:font-semibold file:text-orange-800 hover:file:bg-orange-200" %>
        </div>

        <div class="pt-2">
            <%= f.submit "Save Post",
                class: "w-full sm:w-auto rounded-md bg-orange-400 px-5 py-2.5 font-semibold text-white shadow hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-200" %>
        </div>
    </div>
<% end %>

